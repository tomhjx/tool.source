{{ $_hugo_config := `{ "version": 1 }` }}
{{ $blockID := printf "mermaideditorcontainer%d" .Ordinal }}

<div id="{{ $blockID  }}" contenteditable="true" class="border w-100" style="height: 200px;"></div>
<div id="{{ $blockID  }}-output" ></div>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script >
    $(function(){
        console.log("v2023-02-23 00:34:58")
        var blockID = "{{ $blockID  }}";
        var input = document.getElementById(blockID);
        var output = document.getElementById(blockID+'-output');

        input.onkeyup = function() {
                mermaid.mermaidAPI.render('theGraph', input.innerText, function(svgCode) {
                        output.innerHTML = svgCode;
                });
        }



        // input.onkeyup = function() {
        //         output.innerText = input.innerText
        //         mermaid.init({
        //         flowchart: { useMaxWidth: false },
        //         "theme": "default",
        //         "themeVariables": {
        //                 "fontFamily": "Helvetica"
        //         }
        //         }, output);
        // }

    })

</script>

